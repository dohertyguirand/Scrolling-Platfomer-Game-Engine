<Game>
    <Name>Sonic the Hedgehog</Name>
    <Thumbnail>sonic_preview.jpg</Thumbnail>
    <Description>A classic platformer featuring your favorite (and only) hedgehog faster than the speed of sound.</Description>
    <Entities>
        <ImageEntity>
            <Name>Sonic</Name>
            <Width>50</Width>
            <Height>100</Height>
            <Image>sonic.gif</Image>
            <VariableNames>Still FacingRight FacingLeft Blinking Spinning</VariableNames>
            <VariableValues>sonic/sonic.gif sonic/sonic_facing_right.gif sonic/sonic_facing_left.gif false sonic/sonic_spinning.gif</VariableValues>
            <Behaviors>
                <Behavior>
                    <InputCondition>
                        <Key>LeftKey</Key>
                        <InputRequirement>false</InputRequirement>
                    </InputCondition>
                    <InputCondition>
                        <Key>RightKey</Key>
                        <InputRequirement>false</InputRequirement>
                    </InputCondition>
                    <RequiredCollisionCondition>
                        <Entity2>universalTerrain</Entity2>
                        <Direction>Down</Direction>
                    </RequiredCollisionCondition>
                    <IndependentAction>
                        <Effect>SetImage Still</Effect>
                    </IndependentAction>
                </Behavior>
                <Behavior>
                    <InputCondition>
                        <Key>LeftKey</Key>
                        <InputRequirement>true</InputRequirement>
                    </InputCondition>
                    <EntityVariableCondition>
                        <VariableName>Blinking</VariableName>
                        <RequiredValue>false</RequiredValue>
                    </EntityVariableCondition>
                    <RequiredCollisionCondition>
                        <Entity2>universalTerrain</Entity2>
                        <Direction>Down</Direction>
                    </RequiredCollisionCondition>
                    <IndependentAction>
                        <Effect>SetImage FacingLeft</Effect>
                    </IndependentAction>
                </Behavior>
                <Behavior>
                    <InputCondition>
                        <Key>LeftKey</Key>
                        <InputRequirement>true</InputRequirement>
                    </InputCondition>
                    <EntityVariableCondition>
                        <VariableName>Blinking</VariableName>
                        <RequiredValue>false</RequiredValue>
                    </EntityVariableCondition>
                    <IndependentAction>
                        <Effect>VelocityInput -.1300 0 + .2600</Effect>
                    </IndependentAction>
                </Behavior>
                <Behavior>
                    <InputCondition>
                        <Key>RightKey</Key>
                        <InputRequirement>true</InputRequirement>
                    </InputCondition>
                    <EntityVariableCondition>
                        <VariableName>Blinking</VariableName>
                        <RequiredValue>false</RequiredValue>
                    </EntityVariableCondition>
                    <IndependentAction>
                        <Effect>VelocityInput .1300 0 + .2600</Effect>
                    </IndependentAction>
                </Behavior>
                <Behavior>
                    <InputCondition>
                        <Key>RightKey</Key>
                        <InputRequirement>true</InputRequirement>
                    </InputCondition>
                    <EntityVariableCondition>
                        <VariableName>Blinking</VariableName>
                        <RequiredValue>false</RequiredValue>
                    </EntityVariableCondition>
                    <RequiredCollisionCondition>
                        <Entity2>universalTerrain</Entity2>
                        <Direction>Down</Direction>
                    </RequiredCollisionCondition>
                    <IndependentAction>
                        <Effect>SetImage FacingRight</Effect>
                    </IndependentAction>
                </Behavior>
                <Behavior>
                    <RequiredCollisionCondition>
                        <Entity1>Sonic</Entity1>
                        <Entity2>Spikes</Entity2>
                        <Direction>ANY</Direction>
                    </RequiredCollisionCondition>
                    <IndependentAction>
                        <Effect>Respawn RespawnXLocation RespawnYLocation</Effect>
                        <Effect>ChangeVariable Lives + -1.0</Effect>
                        <Effect>SetVariable Blinking true</Effect>
                    </IndependentAction>
                </Behavior>
                <Behavior>
                    <EntityVariableCondition>
                        <VariableName>Blinking</VariableName>
                        <RequiredValue>true</RequiredValue>
                    </EntityVariableCondition>
                    <IndependentAction>
                        <Effect>BlinkImage Still none Still 50 1300</Effect>
                        <Effect>SetVariable Blinking false 1300</Effect>
                        <Effect>SetVelocity 0.0 0.0</Effect>
                    </IndependentAction>
                </Behavior>
                <Behavior>
                    <RequiredCollisionCondition>
                        <Entity1>Sonic</Entity1>
                        <Entity2>universalTerrain</Entity2>
                        <Direction>Right</Direction>
                    </RequiredCollisionCondition>
                    <CollisionDeterminedAction>
                        <Args>universalTerrain Right</Args>
                        <Effect>TerrainCollisionRight</Effect>
                    </CollisionDeterminedAction>
                </Behavior>
                <Behavior>
                    <RequiredCollisionCondition>
                        <Entity1>Sonic</Entity1>
                        <Entity2>universalTerrain</Entity2>
                        <Direction>Left</Direction>
                    </RequiredCollisionCondition>
                    <CollisionDeterminedAction>
                        <Args>universalTerrain Left</Args>
                        <Effect>TerrainCollisionLeft</Effect>
                    </CollisionDeterminedAction>
                </Behavior>
                <Behavior>
                    <RequiredCollisionCondition>
                        <Entity1>Sonic</Entity1>
                        <Entity2>universalTerrain</Entity2>
                        <Direction>Down</Direction>
                    </RequiredCollisionCondition>
                    <CollisionDeterminedAction>
                        <Args>universalTerrain Down</Args>
                        <Effect>TerrainCollisionDown</Effect>
                    </CollisionDeterminedAction>
                </Behavior>
                <Behavior>
                    <RequiredCollisionCondition>
                        <Entity1>Sonic</Entity1>
                        <Entity2>universalTerrain</Entity2>
                        <Direction>Up</Direction>
                    </RequiredCollisionCondition>
                    <CollisionDeterminedAction>
                        <Args>universalTerrain Up</Args>
                        <Effect>TerrainCollisionUp</Effect>
                    </CollisionDeterminedAction>
                </Behavior>
                <Behavior>
                    <IndependentAction>
                        <Effect>Gravity 0 0.1 + 10.0</Effect>
                    </IndependentAction>
                </Behavior>
                <Behavior>
                    <InputCondition>
                        <Key>UpKey</Key>
                        <InputRequirement>Pressed</InputRequirement>
                    </InputCondition>
                    <RequiredCollisionCondition>
                        <Entity2>universalTerrain</Entity2>
                        <Direction>Down</Direction>
                    </RequiredCollisionCondition>
                    <EntityVariableCondition>
                        <VariableName>Blinking</VariableName>
                        <RequiredValue>false</RequiredValue>
                    </EntityVariableCondition>
                    <IndependentAction>
                        <Effect>Jump 0 -1.2 + 10.0</Effect>
                        <Effect>SetImage Spinning</Effect>
                    </IndependentAction>
                </Behavior>
            </Behaviors>
        </ImageEntity>
        <ImageEntity>
            <Name>Floor</Name>
            <Width>100</Width>
            <Height>50</Height>
            <Image>terrain_block.png</Image>
            <VariableNames>TerrainID</VariableNames>
            <VariableValues>universalTerrain</VariableValues>
        </ImageEntity>
        <ImageEntity>
            <Name>Spikes</Name>
            <Width>100</Width>
            <Height>50</Height>
            <Image>spikes.png</Image>
        </ImageEntity>
        <ImageEntity>
            <Name>Coin</Name>
            <Width>40</Width>
            <Height>40</Height>
            <Image>coin.gif</Image>
            <Behaviors>
                <Behavior>
                    <RequiredCollisionCondition>
                        <Entity2>Sonic</Entity2>
                        <Direction>ANY</Direction>
                    </RequiredCollisionCondition>
                    <IndependentAction>
                        <Effect>RemoveSelf</Effect>
                        <Effect>ChangeVariable Score + 1.0</Effect>
                    </IndependentAction>
                </Behavior>
            </Behaviors>
        </ImageEntity>
        <ImageEntity>
            <Name>Robot</Name>
            <Width>75</Width>
            <Height>107</Height>
            <Image>robot.png</Image>
        </ImageEntity>
        <ImageEntity>
            <Name>Background</Name>
            <Width>1000</Width>
            <Height>800</Height>
            <Image>background.jpg</Image>
        </ImageEntity>
    </Entities>
    <Variables>
        <Variable>
            <Name>Lives</Name>
            <StartValue>3</StartValue>
        </Variable>
        <Variable>
            <Name>Score</Name>
            <StartValue>0</StartValue>
        </Variable>
    </Variables>
    <Levels>
        <Level>
            <ID>1</ID>
            <NextLevel>2</NextLevel>
            <ImageEntityInstances>
                <ImageEntityInstance>
                    <Name>Background</Name>
                    <XPos>0</XPos>
                    <YPos>0</YPos>
                </ImageEntityInstance>
                <ImageEntityInstance>
                    <Name>Robot</Name>
                    <XPos>600</XPos>
                    <YPos>318</YPos>
                </ImageEntityInstance>
                <ImageEntityInstance>
                    <Name>Sonic</Name>
                    <XPos>130</XPos>
                    <YPos>500</YPos>
                    <VariableNames>RespawnXLocation RespawnYLocation</VariableNames>
                    <VariableValues>130 500</VariableValues>
                </ImageEntityInstance>
                <ImageEntityInstance>
                    <Name>Coin</Name>
                    <XPos>600</XPos>
                    <YPos>300</YPos>
                    <Columns>4</Columns>
                    <XGap>20</XGap>
                </ImageEntityInstance>
                <ImageEntityInstance>
                    <Name>Coin</Name>
                    <XPos>600</XPos>
                    <YPos>500</YPos>
                    <Columns>4</Columns>
                    <XGap>20</XGap>
                </ImageEntityInstance>
                <ImageEntityInstance>
                    <Name>Spikes</Name>
                    <XPos>400</XPos>
                    <YPos>600</YPos>
                </ImageEntityInstance>
                <ImageEntityInstance>
                    <Name>Floor</Name>
                    <XPos>700</XPos>
                    <YPos>600</YPos>
                </ImageEntityInstance>
                <ImageEntityInstance>
                    <Name>Floor</Name>
                    <XPos>300</XPos>
                    <YPos>250</YPos>
                </ImageEntityInstance>
                <ImageEntityInstance>
                    <Name>Floor</Name>
                    <XPos>0</XPos>
                    <YPos>600</YPos>
                    <Columns>4</Columns>
                </ImageEntityInstance>
                <ImageEntityInstance>
                    <Name>Floor</Name>
                    <XPos>500</XPos>
                    <YPos>600</YPos>
                    <Columns>2</Columns>
                </ImageEntityInstance>
                <ImageEntityInstance>
                    <Name>Floor</Name>
                    <XPos>800</XPos>
                    <YPos>600</YPos>
                    <Columns>2</Columns>
                </ImageEntityInstance>
                <ImageEntityInstance>
                    <Name>Floor</Name>
                    <XPos>0</XPos>
                    <YPos>0</YPos>
                    <Rows>12</Rows>
                </ImageEntityInstance>
                <ImageEntityInstance>
                    <Name>Floor</Name>
                    <XPos>950</XPos>
                    <YPos>000</YPos>
                    <Rows>12</Rows>
                </ImageEntityInstance>
                <ImageEntityInstance>
                    <Name>Floor</Name>
                    <XPos>275</XPos>
                    <YPos>425</YPos>
                    <Columns>6</Columns>
                </ImageEntityInstance>
            </ImageEntityInstances>
            <TextEntityInstances>
                <TextEntityInstance>
                    <Text>Lives: %.0f</Text>
                    <Font>SansSerif</Font>
                    <XPos>850</XPos>
                    <YPos>0</YPos>
                    <Width>150</Width>
                    <Height>50</Height>
                    <PropertyVariableDependency>
                        <VariableName>Lives</VariableName>
                        <PropertyName>Text</PropertyName>
                    </PropertyVariableDependency>
                </TextEntityInstance>
                <TextEntityInstance>
                    <Text>Rings: %.0f</Text>
                    <Font>Syntax UltraBlack</Font>
                    <XPos>650</XPos>
                    <YPos>0</YPos>
                    <Width>150</Width>
                    <Height>50</Height>
                    <Stationary>true</Stationary>
                    <PropertyVariableDependency>
                        <VariableName>Score</VariableName>
                        <PropertyName>Text</PropertyName>
                    </PropertyVariableDependency>
                </TextEntityInstance>
            </TextEntityInstances>
        </Level>
    </Levels>
</Game>