<Game>
  <Name>Super Mario Bros</Name>
  <Thumbnail>mario_logo.jpg</Thumbnail>
  <Description>Straight from the mind of Shigeru Miyamoto.</Description>
  <Entities>
    <ImageEntity>
      <Name>SmallMario</Name>
      <Width>80</Width>
      <Height>120</Height>
      <Image>mario_facing_right.png</Image>
      <VariableNames>RightFacingImage LeftFacingImage</VariableNames>
      <VariableValues>example-mario/mario_facing_right.png example-mario/mario_facing_left.png</VariableValues>
      <Behaviors>
<!--        Colliding with a mushroom makes you big.-->
        <Behavior>
          <RequiredCollisionCondition>
            <Entity1>SmallMario</Entity1>
            <Entity2>Mushroom</Entity2>
            <Direction>ANY</Direction>
          </RequiredCollisionCondition>
          <IndependentAction>
            <Effect>ResizeImage 100 150</Effect>
            <Effect>ResizeImage 120 180 1000</Effect>
          </IndependentAction>
        </Behavior>
<!--        Press left to go left.-->
        <Behavior>
          <InputCondition>
            <Key>LeftKey2</Key>
            <InputRequirement>true</InputRequirement>
          </InputCondition>
          <IndependentAction>
            <Effect>VelocityInput -.1600 0 .3200</Effect>
            <Effect>SetImage LeftFacingImage</Effect>
          </IndependentAction>
        </Behavior>
<!--        Press right to go right.-->
        <Behavior>
          <InputCondition>
            <Key>RightKey2</Key>
            <InputRequirement>true</InputRequirement>
          </InputCondition>
          <IndependentAction>
            <Effect>VelocityInput .1600 0 .3200</Effect>
            <Effect>SetImage RightFacingImage</Effect>
          </IndependentAction>
        </Behavior>
<!--        Run into a koopa sideways or upward in order to die.-->
        <Behavior>
          <RequiredCollisionCondition>
            <Entity2>Koopa</Entity2>
            <Direction>Right</Direction>
          </RequiredCollisionCondition>
          <IndependentAction>
            <Effect>Respawn RespawnXLocation RespawnYLocation</Effect>
            <Effect>ChangeVariable Lives -1.0</Effect>
          </IndependentAction>
        </Behavior>
        <Behavior>
          <RequiredCollisionCondition>
            <Entity2>Koopa</Entity2>
            <Direction>Left</Direction>
          </RequiredCollisionCondition>
          <IndependentAction>
            <Effect>Respawn RespawnXLocation RespawnYLocation</Effect>
            <Effect>ChangeVariable Lives -1.0</Effect>
          </IndependentAction>
        </Behavior>
        <Behavior>
          <RequiredCollisionCondition>
            <Entity2>Koopa</Entity2>
            <Direction>Up</Direction>
          </RequiredCollisionCondition>
          <IndependentAction>
            <Effect>Respawn RespawnXLocation RespawnYLocation</Effect>
            <Effect>ChangeVariable Lives -1.0</Effect>
          </IndependentAction>
        </Behavior>
<!--        Run into a koopa downward in order to bounce off of it!-->
        <Behavior>
          <RequiredCollisionCondition>
            <Entity2>Koopa</Entity2>
            <Direction>Down</Direction>
          </RequiredCollisionCondition>
          <IndependentAction>
            <Effect>Jump -1.50</Effect>
          </IndependentAction>
        </Behavior>
<!--        Run into a brick downward to stop falling.-->
        <Behavior>
          <RequiredCollisionCondition>
            <Entity2>universalTerrain</Entity2>
            <Direction>Down</Direction>
          </RequiredCollisionCondition>
          <CollisionDeterminedAction>
            <Args>universalTerrain Down</Args>
            <Effect>TerrainCollisionDown</Effect>
          </CollisionDeterminedAction>
        </Behavior>
<!--        Run into a brick sideways or downward to stop too-->
        <Behavior>
          <RequiredCollisionCondition>
            <Entity2>universalTerrain</Entity2>
            <Direction>Left</Direction>
          </RequiredCollisionCondition>
          <CollisionDeterminedAction>
            <Args>universalTerrain Left</Args>
            <Effect>TerrainCollisionLeft</Effect>
          </CollisionDeterminedAction>
        </Behavior>
        <Behavior>
          <RequiredCollisionCondition>
            <Entity2>universalTerrain</Entity2>
            <Direction>Right</Direction>
          </RequiredCollisionCondition>
          <CollisionDeterminedAction>
            <Args>universalTerrain Right</Args>
            <Effect>TerrainCollisionRight</Effect>
          </CollisionDeterminedAction>
        </Behavior>
        <Behavior>
          <RequiredCollisionCondition>
            <Entity2>universalTerrain</Entity2>
            <Direction>Up</Direction>
          </RequiredCollisionCondition>
          <CollisionDeterminedAction>
            <Args>universalTerrain Up</Args>
            <Effect>TerrainCollisionUp</Effect>
          </CollisionDeterminedAction>
        </Behavior>
<!--        Press Up while on the ground to jump.-->
        <Behavior>
          <InputCondition>
            <Key>UpKey2Pressed</Key>
            <InputRequirement>true</InputRequirement>
          </InputCondition>
          <RequiredCollisionCondition>
            <Entity2>universalTerrain</Entity2>
            <Direction>Down</Direction>
          </RequiredCollisionCondition>
          <IndependentAction>
            <Effect>Jump -1.2</Effect>
          </IndependentAction>
        </Behavior>
<!--        Run into a flagpole to go to the next level.-->
        <Behavior>
          <RequiredCollisionCondition>
            <Entity2>Flagpole</Entity2>
            <Direction>ANY</Direction>
          </RequiredCollisionCondition>
          <IndependentAction>
            <Effect>GoToNextLevel</Effect>
          </IndependentAction>
        </Behavior>
<!--        Run into the void to die.-->
        <Behavior>
          <RequiredCollisionCondition>
            <Entity2>Void</Entity2>
            <Direction>ANY</Direction>
          </RequiredCollisionCondition>
          <IndependentAction>
            <Effect>ChangeVariable Lives -1.0</Effect>
            <Effect>Respawn RespawnXLocation RespawnYLocation</Effect>
          </IndependentAction>
        </Behavior>
<!--        Exist to obey gravity.-->
        <Behavior>
          <IndependentAction>
            <Effect>Gravity 0 0.1</Effect>
          </IndependentAction>
        </Behavior>
      </Behaviors>
    </ImageEntity>
    <ImageEntity>
      <Name>Koopa</Name>
      <Width>100</Width>
      <Height>120</Height>
      <Image>koopa.png</Image>
      <VariableNames>EnemyID xVel</VariableNames>
      <VariableValues>enemy 0.1300</VariableValues>
      <!--        Moves forward every frame-->
      <Behavior>
        <IndependentAction>
          <Effect>VelocityInput xVel 0.0 0.2600</Effect>
        </IndependentAction>
      </Behavior>
<!--      Also follows gravity, like Mario-->
      <Behavior>
        <IndependentAction>
          <Effect>Gravity 0 0.1</Effect>
        </IndependentAction>
      </Behavior>
<!--      Also runs into terrain like Mario-->
      <Behavior>
        <RequiredCollisionCondition>
          <Entity2>universalTerrain</Entity2>
          <Direction>Down</Direction>
        </RequiredCollisionCondition>
        <CollisionDeterminedAction>
          <Args>universalTerrain Down</Args>
          <Effect>TerrainCollisionDown</Effect>
        </CollisionDeterminedAction>
      </Behavior>
      <!--        Run into a brick sideways or downward to stop too-->
      <Behavior>
        <RequiredCollisionCondition>
          <Entity2>universalTerrain</Entity2>
          <Direction>Left</Direction>
        </RequiredCollisionCondition>
        <CollisionDeterminedAction>
          <Args>universalTerrain Left</Args>
          <Effect>TerrainCollisionLeft</Effect>
          <Effect>SetVariable xVel 0.1300</Effect>
        </CollisionDeterminedAction>
      </Behavior>
      <Behavior>
        <RequiredCollisionCondition>
          <Entity2>universalTerrain</Entity2>
          <Direction>Right</Direction>
        </RequiredCollisionCondition>
        <CollisionDeterminedAction>
          <Args>universalTerrain Right</Args>
          <Effect>TerrainCollisionRight</Effect>
          <Effect>SetVariable xVel -0.1300</Effect>
        </CollisionDeterminedAction>
      </Behavior>
      <Behavior>
        <RequiredCollisionCondition>
          <Entity2>universalTerrain</Entity2>
          <Direction>Up</Direction>
        </RequiredCollisionCondition>
        <CollisionDeterminedAction>
          <Args>universalTerrain Up</Args>
          <Effect>TerrainCollisionUp</Effect>
        </CollisionDeterminedAction>
      </Behavior>
<!--      Run into Mario's feet to die.-->
      <Behavior>
        <RequiredCollisionCondition>
          <Entity2>SmallMario</Entity2>
          <Direction>Up</Direction>
        </RequiredCollisionCondition>
        <IndependentAction>
          <Effect>RemoveSelf</Effect>
        </IndependentAction>
      </Behavior>
    </ImageEntity>
    <ImageEntity>
      <Name>Brick</Name>
      <Width>100</Width>
      <Height>100</Height>
      <Image>mario_brick.png</Image>
      <VariableNames>TerrainID</VariableNames>
      <VariableValues>universalTerrain</VariableValues>
    </ImageEntity>
    <ImageEntity>
      <Name>Mushroom</Name>
      <Width>80</Width>
      <Height>80</Height>
      <Image>mario_mushroom.png</Image>
      <Behaviors>
        <!--      Exist to obey gravity.-->
        <Behavior>
          <IndependentAction>
            <Effect>Gravity 0 0.1</Effect>
          </IndependentAction>
        </Behavior>
        <!--      Also runs into terrain like Mario-->
        <Behavior>
          <RequiredCollisionCondition>
            <Entity2>universalTerrain</Entity2>
            <Direction>Down</Direction>
          </RequiredCollisionCondition>
          <CollisionDeterminedAction>
            <Args>universalTerrain Down</Args>
            <Effect>TerrainCollisionDown</Effect>
          </CollisionDeterminedAction>
        </Behavior>
        <!--        Run into a brick sideways or downward to stop too-->
        <Behavior>
          <RequiredCollisionCondition>
            <Entity2>universalTerrain</Entity2>
            <Direction>Left</Direction>
          </RequiredCollisionCondition>
          <CollisionDeterminedAction>
            <Args>universalTerrain Left</Args>
            <Effect>TerrainCollisionLeft</Effect>
          </CollisionDeterminedAction>
        </Behavior>
        <Behavior>
          <RequiredCollisionCondition>
            <Entity2>universalTerrain</Entity2>
            <Direction>Right</Direction>
          </RequiredCollisionCondition>
          <CollisionDeterminedAction>
            <Args>universalTerrain Right</Args>
            <Effect>TerrainCollisionRight</Effect>
          </CollisionDeterminedAction>
        </Behavior>
        <Behavior>
          <RequiredCollisionCondition>
            <Entity2>universalTerrain</Entity2>
            <Direction>Up</Direction>
          </RequiredCollisionCondition>
          <CollisionDeterminedAction>
            <Args>universalTerrain Up</Args>
            <Effect>TerrainCollisionUp</Effect>
          </CollisionDeterminedAction>
        </Behavior>
        <!--      Run into mario to be destroyed.-->
        <Behavior>
          <RequiredCollisionCondition>
            <Entity2>SmallMario</Entity2>
            <Direction>ANY</Direction>
          </RequiredCollisionCondition>
          <IndependentAction>
            <Effect>RemoveSelf</Effect>
          </IndependentAction>
        </Behavior>
<!--        Moves right every frame-->
        <Behavior>
          <IndependentAction>
            <Effect>VelocityInput 0.1300 0.0 0.2600</Effect>
          </IndependentAction>
        </Behavior>
      </Behaviors>
    </ImageEntity>
    <ImageEntity>
      <Name>Void</Name>
      <Width>1500</Width>
      <Height>1</Height>
      <Image>mario_brick.png</Image>
    </ImageEntity>
    <ImageEntity>
      <Name>Flagpole</Name>
      <Width>100</Width>
      <Height>400</Height>
      <Image>mario_flagpole.png</Image>
      <VariableNames>TerrainID</VariableNames>
      <VariableValues>universalTerrain</VariableValues>
    </ImageEntity>
    <ImageEntity>
      <Name>QuestionBlock</Name>
      <Width>100</Width>
      <Height>100</Height>
      <Image>mario_question_block.png</Image>
      <VariableNames>TerrainID myItem empty</VariableNames>
      <VariableValues>universalTerrain Mushroom false</VariableValues>
<!--      Get hit by mario's head to spit out an item.-->
      <Behavior>
        <RequiredCollisionCondition>
          <Entity2>SmallMario</Entity2>
          <Direction>Down</Direction>
        </RequiredCollisionCondition>
        <EntityVariableCondition>
        <VariableName>empty</VariableName>
        <RequiredValue>false</RequiredValue>
      </EntityVariableCondition>
        <IndependentAction>
          <Effect>CreateEntityRelative Mushroom 0.0 -100.0</Effect>
          <Effect>SetVariable empty true</Effect>
        </IndependentAction>
      </Behavior>
    </ImageEntity>
    <ImageEntity>
      <Name>Background</Name>
      <Width>1000</Width>
      <Height>800</Height>
      <Image>mario_background.png</Image>
    </ImageEntity>
  </Entities>
  <Variables>
    <Variable>
      <Name>Lives</Name>
      <StartValue>3</StartValue>
    </Variable>
    <Variable>
      <Name>Score</Name>
      <StartValue>0</StartValue>
    </Variable>
  </Variables>
  <Levels>
    <Level>
      <ID>1</ID>
      <NextLevel>2</NextLevel>
      <ImageEntityInstances>
        <ImageEntityInstance>
          <Name>Background</Name>
          <XPos>0</XPos>
          <YPos>0</YPos>
        </ImageEntityInstance>
        <ImageEntityInstance>
          <Name>SmallMario</Name>
          <XPos>0</XPos>
          <YPos>0</YPos>
          <VariableNames>RespawnXLocation RespawnYLocation</VariableNames>
          <VariableValues>0 500</VariableValues>
        </ImageEntityInstance>
        <ImageEntityInstance>
          <Name>Brick</Name>
          <XPos>0</XPos>
          <YPos>600</YPos>
        </ImageEntityInstance>
        <ImageEntityInstance>
          <Name>Brick</Name>
          <XPos>300</XPos>
          <YPos>600</YPos>
        </ImageEntityInstance>
        <ImageEntityInstance>
          <Name>QuestionBlock</Name>
          <XPos>300</XPos>
          <YPos>200</YPos>
        </ImageEntityInstance>
        <ImageEntityInstance>
          <Name>Brick</Name>
          <XPos>400</XPos>
          <YPos>600</YPos>
        </ImageEntityInstance>
        <ImageEntityInstance>
          <Name>Brick</Name>
          <XPos>400</XPos>
          <YPos>500</YPos>
          <Size>2.0</Size>
        </ImageEntityInstance>
        <ImageEntityInstance>
          <Name>Brick</Name>
          <XPos>500</XPos>
          <YPos>600</YPos>
          <Size>2.0</Size>
        </ImageEntityInstance>
        <ImageEntityInstance>
          <Name>Brick</Name>
          <XPos>600</XPos>
          <YPos>600</YPos>
          <Size>2.0</Size>
        </ImageEntityInstance>
        <ImageEntityInstance>
          <Name>Brick</Name>
          <XPos>700</XPos>
          <YPos>600</YPos>
          <Size>2.0</Size>
        </ImageEntityInstance>
        <ImageEntityInstance>
          <Name>Brick</Name>
          <XPos>800</XPos>
          <YPos>600</YPos>
          <Size>2.0</Size>
        </ImageEntityInstance>
        <ImageEntityInstance>
          <Name>Brick</Name>
          <XPos>1000</XPos>
          <YPos>600</YPos>
          <Size>2.0</Size>
        </ImageEntityInstance>
        <ImageEntityInstance>
          <Name>Koopa</Name>
          <XPos>600</XPos>
          <YPos>400</YPos>
        </ImageEntityInstance>
        <ImageEntityInstance>
          <Name>Flagpole</Name>
          <XPos>800</XPos>
          <YPos>200</YPos>
        </ImageEntityInstance>
        <ImageEntityInstance>
          <Name>Void</Name>
          <XPos>-250</XPos>
          <YPos>799</YPos>
        </ImageEntityInstance>
      </ImageEntityInstances>
      <TextEntityInstances>
        <TextEntityInstance>
          <Text>Lives: %.0f</Text>
          <Font>Times New Roman</Font>
          <XPos>850</XPos>
          <YPos>0</YPos>
          <Width>150</Width>
          <Height>50</Height>
          <PropertyVariableDependency>
            <VariableName>Lives</VariableName>
            <PropertyName>Text</PropertyName>
          </PropertyVariableDependency>
        </TextEntityInstance>
        <TextEntityInstance>
          <Text>Score: %.0f</Text>
          <Font>Times New Roman</Font>
          <XPos>650</XPos>
          <YPos>0</YPos>
          <Width>150</Width>
          <Height>50</Height>
          <PropertyVariableDependency>
            <VariableName>Score</VariableName>
            <PropertyName>Text</PropertyName>
          </PropertyVariableDependency>
        </TextEntityInstance>
      </TextEntityInstances>
    </Level>
    <Level>
      <ID>2</ID>
      <NextLevel>3</NextLevel>
      <EndCondition>Collision Flagpole SmallMario</EndCondition>
      <ImageEntityInstances>
        <ImageEntityInstance>
          <Name>SmallMario</Name>
          <XPos>0</XPos>
          <YPos>0</YPos>
          <VariableNames>RespawnXLocation RespawnYLocation</VariableNames>
          <VariableValues>0 300</VariableValues>
        </ImageEntityInstance>
        <ImageEntityInstance>
          <Name>Brick</Name>
          <XPos>0</XPos>
          <YPos>500</YPos>
        </ImageEntityInstance>
        <ImageEntityInstance>
          <Name>Brick</Name>
          <XPos>300</XPos>
          <YPos>500</YPos>
        </ImageEntityInstance>
        <ImageEntityInstance>
          <Name>Brick</Name>
          <XPos>300</XPos>
          <YPos>200</YPos>
        </ImageEntityInstance>
        <ImageEntityInstance>
          <Name>Brick</Name>
          <XPos>400</XPos>
          <YPos>500</YPos>
        </ImageEntityInstance>
        <ImageEntityInstance>
          <Name>Brick</Name>
          <XPos>500</XPos>
          <YPos>500</YPos>
          <Size>2.0</Size>
        </ImageEntityInstance>
        <ImageEntityInstance>
          <Name>Brick</Name>
          <XPos>500</XPos>
          <YPos>600</YPos>
          <Size>2.0</Size>
        </ImageEntityInstance>
        <ImageEntityInstance>
          <Name>Brick</Name>
          <XPos>600</XPos>
          <YPos>600</YPos>
          <Size>2.0</Size>
        </ImageEntityInstance>
        <ImageEntityInstance>
          <Name>Brick</Name>
          <XPos>700</XPos>
          <YPos>600</YPos>
          <Size>2.0</Size>
        </ImageEntityInstance>
        <ImageEntityInstance>
          <Name>Brick</Name>
          <XPos>800</XPos>
          <YPos>600</YPos>
          <Size>2.0</Size>
        </ImageEntityInstance>
        <ImageEntityInstance>
          <Name>Koopa</Name>
          <XPos>800</XPos>
          <YPos>500</YPos>
        </ImageEntityInstance>
        <ImageEntityInstance>
          <Name>Flagpole</Name>
          <XPos>900</XPos>
          <YPos>200</YPos>
        </ImageEntityInstance>
        <ImageEntityInstance>
          <Name>Void</Name>
          <XPos>-250</XPos>
          <YPos>799</YPos>
        </ImageEntityInstance>
      </ImageEntityInstances>
      <TextEntityInstances>
        <TextEntityInstance>
          <Text>Lives: %.0f</Text>
          <Font>Times New Roman</Font>
          <XPos>850</XPos>
          <YPos>0</YPos>
          <Width>150</Width>
          <Height>50</Height>
          <PropertyVariableDependency>
            <VariableName>Lives</VariableName>
            <PropertyName>Text</PropertyName>
          </PropertyVariableDependency>
        </TextEntityInstance>
        <TextEntityInstance>
          <Text>Score: %.0f</Text>
          <Font>Times New Roman</Font>
          <XPos>650</XPos>
          <YPos>0</YPos>
          <Width>150</Width>
          <Height>50</Height>
          <PropertyVariableDependency>
            <VariableName>Score</VariableName>
            <PropertyName>Text</PropertyName>
          </PropertyVariableDependency>
        </TextEntityInstance>
      </TextEntityInstances>
    </Level>
    <Level>
      <ID>3</ID>
      <NextLevel>1</NextLevel>
      <EndCondition>Collision Flagpole SmallMario</EndCondition>
      <ImageEntityInstances>
        <ImageEntityInstance>
          <Name>SmallMario</Name>
          <XPos>0</XPos>
          <YPos>0</YPos>
        </ImageEntityInstance>
        <ImageEntityInstance>
          <Name>Brick</Name>
          <XPos>0</XPos>
          <YPos>500</YPos>
        </ImageEntityInstance>
        <ImageEntityInstance>
          <Name>Brick</Name>
          <XPos>100</XPos>
          <YPos>500</YPos>
        </ImageEntityInstance>
        <ImageEntityInstance>
          <Name>Brick</Name>
          <XPos>200</XPos>
          <YPos>500</YPos>
        </ImageEntityInstance>
        <ImageEntityInstance>
          <Name>Brick</Name>
          <XPos>300</XPos>
          <YPos>500</YPos>
          <Size>2.0</Size>
        </ImageEntityInstance>
        <ImageEntityInstance>
          <Name>Brick</Name>
          <XPos>400</XPos>
          <YPos>500</YPos>
          <Size>2.0</Size>
        </ImageEntityInstance>
        <ImageEntityInstance>
          <Name>Brick</Name>
          <XPos>500</XPos>
          <YPos>500</YPos>
          <Size>2.0</Size>
        </ImageEntityInstance>
        <ImageEntityInstance>
          <Name>Brick</Name>
          <XPos>600</XPos>
          <YPos>500</YPos>
          <Size>2.0</Size>
        </ImageEntityInstance>
        <ImageEntityInstance>
          <Name>Brick</Name>
          <XPos>700</XPos>
          <YPos>500</YPos>
          <Size>2.0</Size>
        </ImageEntityInstance>
        <ImageEntityInstance>
          <Name>Flagpole</Name>
          <XPos>700</XPos>
          <YPos>200</YPos>
        </ImageEntityInstance>
        <ImageEntityInstance>
          <Name>Void</Name>
          <XPos>-250</XPos>
          <YPos>799</YPos>
        </ImageEntityInstance>
      </ImageEntityInstances>
      <TextEntityInstances>
        <TextEntityInstance>
          <Text>Game Over.You Win.</Text>
          <Font>Comic Sans MS</Font>
          <XPos>400</XPos>
          <YPos>400</YPos>
          <Width>150</Width>
          <Height>50</Height>
        </TextEntityInstance>
        <TextEntityInstance>
          <Text>Lives: %.0f</Text>
          <Font>Times New Roman</Font>
          <XPos>850</XPos>
          <YPos>0</YPos>
          <Width>150</Width>
          <Height>50</Height>
          <PropertyVariableDependency>
            <VariableName>Lives</VariableName>
            <PropertyName>Text</PropertyName>
          </PropertyVariableDependency>
        </TextEntityInstance>
        <TextEntityInstance>
          <Text>Score: %.0f</Text>
          <Font>Times New Roman</Font>
          <XPos>650</XPos>
          <YPos>0</YPos>
          <Width>150</Width>
          <Height>50</Height>
          <PropertyVariableDependency>
            <VariableName>Score</VariableName>
            <PropertyName>Text</PropertyName>
          </PropertyVariableDependency>
        </TextEntityInstance>
      </TextEntityInstances>
    </Level>
  </Levels>
</Game>