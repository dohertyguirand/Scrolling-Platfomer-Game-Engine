<Game>
    <Name>Flappy Bird</Name>
    <Thumbnail>flappy_bird_icon.png</Thumbnail>
    <Description>Play the classic game that got millions of people hooked</Description>
    <Entities>
        <ImageEntity>
            <Name>Bird</Name>
            <Width>50</Width>
            <Height>50</Height>
            <Image>flappy_down.png</Image>
            <Behaviors>
                <Behavior>
                    <VerticalCollisionCondition>
                        <EntityName>Floor</EntityName>
                        <CollisionRequirement>true</CollisionRequirement>
                    </VerticalCollisionCondition>
                </Behavior>
                <Behavior>
                    <InputCondition>
                        <Key>UpKeyPressed</Key>
                        <InputRequirement>true</InputRequirement>
                    </InputCondition>
                    <NonCollisionEffect>Jump -0.8</NonCollisionEffect>
                    <NonCollisionEffect>SetImage flappy_bird/flappy_up.png</NonCollisionEffect>
                </Behavior>
                <Behavior>
                    <InputCondition>
                        <Key>UpKeyPressed</Key>
                        <InputRequirement>false</InputRequirement>
                    </InputCondition>
                    <NonCollisionEffect>SetImage flappy_bird/flappy_down.png</NonCollisionEffect>
                </Behavior>
                <Behavior>
                    <NonCollisionEffect>Gravity 0 0.05</NonCollisionEffect>
                </Behavior>
                <Behavior>
                    <CollisionEffect>
                        <With>Floor</With>
                        <Reaction>TerrainCollision</Reaction>
                    </CollisionEffect>
                </Behavior>
                <Behavior>
                    <VerticalCollisionCondition>
                        <EntityName>PipeUp</EntityName>
                        <CollisionRequirement>true</CollisionRequirement>
                    </VerticalCollisionCondition>
                    <CollisionEffect>
                        <With>PipeUp</With>
                        <Reaction>VerticalBounce 0.5</Reaction>
                    </CollisionEffect>
                </Behavior>
                <Behavior>
                    <HorizontalCollisionCondition>
                        <EntityName>PipeUp</EntityName>
                        <CollisionRequirement>true</CollisionRequirement>
                    </HorizontalCollisionCondition>
                    <CollisionEffect>
                        <With>PipeUp</With>
                        <Reaction>HorizontalBounce 0.5</Reaction>
<!--                        <Reaction>TerrainCollision</Reaction>-->
                    </CollisionEffect>
                </Behavior>
                <Behavior>
                    <VerticalCollisionCondition>
                        <EntityName>PipeDown</EntityName>
                        <CollisionRequirement>true</CollisionRequirement>
                    </VerticalCollisionCondition>
                    <CollisionEffect>
                        <With>PipeDown</With>
                        <Reaction>VerticalBounce 0.5</Reaction>
                    </CollisionEffect>
                </Behavior>
                <Behavior>
                    <HorizontalCollisionCondition>
                        <EntityName>PipeDown</EntityName>
                        <CollisionRequirement>true</CollisionRequirement>
                    </HorizontalCollisionCondition>
                    <CollisionEffect>
                        <With>PipeDown</With>
                        <Reaction>HorizontalBounce 0.5</Reaction>
<!--                        <Reaction>TerrainCollision</Reaction>-->
                    </CollisionEffect>
                </Behavior>
            </Behaviors>
        </ImageEntity>
        <ImageEntity>
            <Name>PipeUp</Name>
            <Width>50</Width>
            <Height>400</Height>
            <Image>pipe_up.png</Image>
            <Behaviors>
                <Behavior>
                    <NonCollisionEffect>MoveForward -0.05 0.0 0.20</NonCollisionEffect>
                </Behavior>
            </Behaviors>
        </ImageEntity>
        <ImageEntity>
            <Name>PipeDown</Name>
            <Width>50</Width>
            <Height>100</Height>
            <Image>pipe_down.png</Image>
            <Behaviors>
                <Behavior>
                    <NonCollisionEffect>MoveForward -0.05 0.0 0.20</NonCollisionEffect>
                </Behavior>
            </Behaviors>
        </ImageEntity>
        <ImageEntity>
            <Name>Floor</Name>
            <Width>500</Width>
            <Height>50</Height>
            <Image>floor.png</Image>
        </ImageEntity>
        <ImageEntity>
            <Name>Background</Name>
            <Width>1000</Width>
            <Height>800</Height>
            <Image>flappy_background.png</Image>
        </ImageEntity>
    </Entities>
    <Levels>
        <Level>
            <ID>1</ID>
            <NextLevel>1</NextLevel>
            <EndCondition>DestroyAll Koopa</EndCondition>
            <ImageEntityInstances>
                <ImageEntityInstance>
                    <Type>Background</Type>
                    <XPos>0</XPos>
                    <YPos>0</YPos>
                </ImageEntityInstance>
                <ImageEntityInstance>
                    <Type>Floor</Type>
                    <XPos>0</XPos>
                    <YPos>700</YPos>
                    <Columns>4</Columns>
                </ImageEntityInstance>
                <ImageEntityInstance>
                    <Type>PipeUp</Type>
                    <XPos>400</XPos>
                    <YPos>300</YPos>
                </ImageEntityInstance>
                <ImageEntityInstance>
                    <Type>PipeDown</Type>
                    <XPos>400</XPos>
                    <YPos>0</YPos>
                </ImageEntityInstance>
                <ImageEntityInstance>
                    <Type>PipeUp</Type>
                    <XPos>600</XPos>
                    <YPos>300</YPos>
                </ImageEntityInstance>
                <ImageEntityInstance>
                    <Type>PipeDown</Type>
                    <XPos>600</XPos>
                    <YPos>0</YPos>
                </ImageEntityInstance>
                <ImageEntityInstance>
                    <Type>Bird</Type>
                    <XPos>10</XPos>
                    <YPos>350</YPos>
                </ImageEntityInstance>
            </ImageEntityInstances>
        </Level>
    </Levels>
</Game>